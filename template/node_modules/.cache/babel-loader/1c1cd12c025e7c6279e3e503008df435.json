{"ast":null,"code":"import{USER_LOADED,USER_LOADING,// AUTH_ERROR,\nLOGIN_SUCCESS,LOGIN_FAIL,LOGOUT_SUCCESS// REGISTER_FAIL,\n// REGISTER_SUCCESS\n}from'./types';import userAPI from'../../api/userApi';import jwtDecode from'jwt-decode';//signUp\nexport var loginUser=function loginUser(user){return function(dispatch){userAPI.login(user).then(function(response){localStorage.setItem(\"access_token\",response['jwt_token']);dispatch({type:LOGIN_SUCCESS,payload:response});}).catch(function(error){dispatch({type:LOGIN_FAIL,payload:error.message});});};};export var loadUser=function loadUser(){return function(dispatch,getState){var token=getState().auth.token;if(token){var user=jwtDecode(token);dispatch({type:USER_LOADED,payload:{token:token,user:user}});}else{dispatch({type:USER_LOADING,payload:null});}};};export var signOut=function signOut(){return function(dispatch){dispatch({type:LOGOUT_SUCCESS,payload:null});};};","map":{"version":3,"sources":["C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/src/redux/actions/authActions.js"],"names":["USER_LOADED","USER_LOADING","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","userAPI","jwtDecode","loginUser","user","dispatch","login","then","response","localStorage","setItem","type","payload","catch","error","message","loadUser","getState","token","auth","signOut"],"mappings":"AAAA,OACIA,WADJ,CAEIC,YAFJ,CAGI;AACAC,aAJJ,CAKIC,UALJ,CAMIC,cACA;AACA;AARJ,KASO,SATP,CAUA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA;AACA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,IAAD,QAAU,UAACC,QAAD,CAAc,CAC7CJ,OAAO,CAACK,KAAR,CAAcF,IAAd,EAAoBG,IAApB,CACI,SAAAC,QAAQ,CAAI,CACRC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqCF,QAAQ,CAAC,WAAD,CAA7C,EACAH,QAAQ,CAAC,CACLM,IAAI,CAAEb,aADD,CAELc,OAAO,CAAEJ,QAFJ,CAAD,CAAR,CAIH,CAPL,EAQEK,KARF,CAQQ,SAAAC,KAAK,CAAI,CACbT,QAAQ,CAAC,CACLM,IAAI,CAAEZ,UADD,CAELa,OAAO,CAAEE,KAAK,CAACC,OAFV,CAAD,CAAR,CAIH,CAbD,EAcH,CAfwB,EAAlB,CAiBP,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,SAAM,UAACX,QAAD,CAAWY,QAAX,CAAwB,CAClD,GAAMC,CAAAA,KAAK,CAAGD,QAAQ,GAAGE,IAAX,CAAgBD,KAA9B,CACA,GAAGA,KAAH,CAAS,CACL,GAAMd,CAAAA,IAAI,CAAGF,SAAS,CAACgB,KAAD,CAAtB,CACAb,QAAQ,CAAC,CACLM,IAAI,CAAEf,WADD,CAELgB,OAAO,CAAE,CAACM,KAAK,CAALA,KAAD,CAAOd,IAAI,CAAJA,IAAP,CAFJ,CAAD,CAAR,CAIH,CAND,IAMO,CACHC,QAAQ,CAAC,CACTM,IAAI,CAAEd,YADG,CAETe,OAAO,CAAE,IAFA,CAAD,CAAR,CAGD,CAEN,CAduB,EAAjB,CAgBP,MAAO,IAAMQ,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,SAAM,UAACf,QAAD,CAAc,CACvCA,QAAQ,CAAC,CACLM,IAAI,CAAEX,cADD,CAELY,OAAO,CAAE,IAFJ,CAAD,CAAR,CAIH,CALsB,EAAhB","sourcesContent":["import {\r\n    USER_LOADED,\r\n    USER_LOADING,\r\n    // AUTH_ERROR,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    LOGOUT_SUCCESS,\r\n    // REGISTER_FAIL,\r\n    // REGISTER_SUCCESS\r\n} from './types'\r\nimport userAPI from '../../api/userApi'\r\nimport jwtDecode from 'jwt-decode'\r\n//signUp\r\nexport const loginUser = (user) => (dispatch) => {\r\n    userAPI.login(user).then(\r\n        response => {\r\n            localStorage.setItem(\"access_token\", response['jwt_token'])\r\n            dispatch({\r\n                type: LOGIN_SUCCESS,\r\n                payload: response\r\n            })\r\n        }\r\n    ).catch(error => {\r\n        dispatch({\r\n            type: LOGIN_FAIL,\r\n            payload: error.message\r\n        })\r\n    })\r\n}\r\n\r\nexport const loadUser = () => (dispatch, getState) => {\r\n    const token = getState().auth.token\r\n    if(token){\r\n        const user = jwtDecode(token)\r\n        dispatch({\r\n            type: USER_LOADED,\r\n            payload: {token,user}\r\n        })\r\n    } else {\r\n        dispatch({\r\n        type: USER_LOADING,\r\n        payload: null,\r\n    })}\r\n\r\n}\r\n\r\nexport const signOut = () => (dispatch) => {\r\n    dispatch({\r\n        type: LOGOUT_SUCCESS,\r\n        payload: null,\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}