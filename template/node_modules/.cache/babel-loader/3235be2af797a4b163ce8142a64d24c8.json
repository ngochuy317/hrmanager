{"ast":null,"code":"import _objectSpread from\"C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{USER_LOADED,USER_LOADING,AUTH_ERROR,LOGIN_SUCCESS,LOGIN_FAIL,LOGOUT_SUCCESS,REGISTER_FAIL,REGISTER_SUCCESS}from'../actions/types';var initialState={token:localStorage.getItem('access_token'),isAuthenticated:false,isLoading:false,user:null};export default function authReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case USER_LOADING:{return _objectSpread(_objectSpread({},state),{},{isLoading:false,isAuthenticated:false,user:null});}case USER_LOADED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,isLoading:true,user:action.payload.user});case LOGIN_SUCCESS:return _objectSpread(_objectSpread({},state),{},{token:action.payload.jwt_token,user:{id:action.payload.id,name:action.payload.name,role:action.payload.role},isAuthenticated:true,isLoading:true});case REGISTER_SUCCESS:return _objectSpread(_objectSpread(_objectSpread({},state),action.payload),{},{isAuthenticated:true,isLoading:true});case LOGOUT_SUCCESS:{localStorage.removeItem(\"access_token\");return _objectSpread(_objectSpread({},state),{},{token:null,user:null,isAuthenticated:false,isLoading:false});}case AUTH_ERROR:case LOGIN_FAIL:case REGISTER_FAIL:return _objectSpread(_objectSpread({},state),{},{token:null,user:null,isAuthenticated:false,isLoading:false});default:return state;}}","map":{"version":3,"sources":["C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/src/redux/reducers/authReducer.js"],"names":["USER_LOADED","USER_LOADING","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_FAIL","REGISTER_SUCCESS","initialState","token","localStorage","getItem","isAuthenticated","isLoading","user","authReducer","state","action","type","payload","jwt_token","id","name","role","removeItem"],"mappings":"iJAAA,OACIA,WADJ,CAEIC,YAFJ,CAGIC,UAHJ,CAIIC,aAJJ,CAKIC,UALJ,CAMIC,cANJ,CAOIC,aAPJ,CAQIC,gBARJ,KASO,kBATP,CAWA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,cAArB,CADU,CAEjBC,eAAe,CAAE,KAFA,CAGjBC,SAAS,CAAE,KAHM,CAIjBC,IAAI,CAAE,IAJW,CAArB,CAOA,cAAe,SAASC,CAAAA,WAAT,EAAoD,IAA/BC,CAAAA,KAA+B,2DAAvBR,YAAuB,IAARS,CAAAA,MAAQ,2CAC/D,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKjB,CAAAA,YAAL,CAAkB,CACd,sCACOe,KADP,MAEIH,SAAS,CAAE,KAFf,CAGID,eAAe,CAAE,KAHrB,CAIIE,IAAI,CAAE,IAJV,GAMH,CACD,IAAKd,CAAAA,WAAL,CACI,sCACOgB,KADP,MAEIJ,eAAe,CAAE,IAFrB,CAGIC,SAAS,CAAE,IAHf,CAIIC,IAAI,CAAEG,MAAM,CAACE,OAAP,CAAeL,IAJzB,GAMJ,IAAKX,CAAAA,aAAL,CACI,sCACOa,KADP,MAEIP,KAAK,CAAEQ,MAAM,CAACE,OAAP,CAAeC,SAF1B,CAGIN,IAAI,CAAE,CACFO,EAAE,CAAEJ,MAAM,CAACE,OAAP,CAAeE,EADjB,CAEFC,IAAI,CAAEL,MAAM,CAACE,OAAP,CAAeG,IAFnB,CAGFC,IAAI,CAAEN,MAAM,CAACE,OAAP,CAAeI,IAHnB,CAHV,CAQIX,eAAe,CAAE,IARrB,CASIC,SAAS,CAAE,IATf,GAWJ,IAAKN,CAAAA,gBAAL,CACI,oDACOS,KADP,EAEOC,MAAM,CAACE,OAFd,MAGIP,eAAe,CAAE,IAHrB,CAIIC,SAAS,CAAE,IAJf,GAMJ,IAAKR,CAAAA,cAAL,CAAoB,CAChBK,YAAY,CAACc,UAAb,CAAwB,cAAxB,EACA,sCACOR,KADP,MAEIP,KAAK,CAAE,IAFX,CAGIK,IAAI,CAAE,IAHV,CAIIF,eAAe,CAAE,KAJrB,CAKIC,SAAS,CAAE,KALf,GAOH,CACD,IAAKX,CAAAA,UAAL,CACA,IAAKE,CAAAA,UAAL,CACA,IAAKE,CAAAA,aAAL,CACI,sCACOU,KADP,MAEIP,KAAK,CAAE,IAFX,CAGIK,IAAI,CAAE,IAHV,CAIIF,eAAe,CAAE,KAJrB,CAKIC,SAAS,CAAE,KALf,GAOJ,QACI,MAAOG,CAAAA,KAAP,CAxDR,CA0DH","sourcesContent":["import {\r\n    USER_LOADED,\r\n    USER_LOADING,\r\n    AUTH_ERROR,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    LOGOUT_SUCCESS,\r\n    REGISTER_FAIL,\r\n    REGISTER_SUCCESS,\r\n} from '../actions/types'\r\n\r\nconst initialState = {\r\n    token: localStorage.getItem('access_token'),\r\n    isAuthenticated: false,\r\n    isLoading: false,\r\n    user: null,\r\n}\r\n\r\nexport default function authReducer(state = initialState , action) {\r\n    switch (action.type) {\r\n        case USER_LOADING:{\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                isAuthenticated: false,\r\n                user: null\r\n            }\r\n        }\r\n        case USER_LOADED:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                isLoading: true,\r\n                user: action.payload.user,\r\n            } \r\n        case LOGIN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                token: action.payload.jwt_token,\r\n                user: {\r\n                    id: action.payload.id,\r\n                    name: action.payload.name,\r\n                    role: action.payload.role\r\n                },\r\n                isAuthenticated: true,\r\n                isLoading: true,\r\n            }\r\n        case REGISTER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                isLoading: true,\r\n            }\r\n        case LOGOUT_SUCCESS:{\r\n            localStorage.removeItem(\"access_token\")\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                user: null,\r\n                isAuthenticated: false,\r\n                isLoading: false,\r\n            }\r\n        }   \r\n        case AUTH_ERROR:\r\n        case LOGIN_FAIL:\r\n        case REGISTER_FAIL:\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                user: null,\r\n                isAuthenticated: false,\r\n                isLoading: false,\r\n            }\r\n        default: \r\n            return state\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}